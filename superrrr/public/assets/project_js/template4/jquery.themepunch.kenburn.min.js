(function(a,b){function m(c,d,e){var f=2;c.find(".creative_layer div").each(function(c){var e=a(this);if(e.data("_top")==b)e.data("_top",parseInt(e.css("top"),0));if(e.data("_left")==b)e.data("_left",parseInt(e.css("left"),0));if(e.data("_op")==b){e.data("_op",e.css("opacity"))}e.css({"z-index":1200});if(e.hasClass("fadeup")){e.animate({top:e.data("_top")+20+"px",opacity:0},{duration:0,queue:false}).delay(d+(f+1)*350).animate({top:e.data("_top")+"px",opacity:e.data("_op")},{duration:500,queue:true});f++}if(e.hasClass("faderight")){e.animate({left:e.data("_left")-20+"px",opacity:0},{duration:0,queue:false}).delay(d+(f+1)*350).animate({left:e.data("_left")+"px",opacity:e.data("_op")},{duration:500,queue:true});f++}if(e.hasClass("fadedown")){e.animate({top:e.data("_top")-20+"px",opacity:0},{duration:0,queue:false}).delay(d+(f+1)*350).animate({top:e.data("_top")+"px",opacity:e.data("_op")},{duration:500,queue:true});f++}if(e.hasClass("fadeleft")){e.animate({left:e.data("_left")+20+"px",opacity:0},{duration:0,queue:false}).delay(d+(f+1)*350).animate({left:e.data("_left")+"px",opacity:e.data("_op")},{duration:500,queue:true});f++}if(e.hasClass("fade")){e.animate({opacity:0},{duration:0,queue:false}).delay(d+(f+1)*350).animate({opacity:e.data("_op")},{duration:500,queue:true});f++}if(e.hasClass("wipeup")||e.hasClass("wipedown")||e.hasClass("wipeleft")||e.hasClass("wiperight")){e.animate({opacity:0},{duration:0,queue:false});setTimeout(function(){if(e.find(".wipermode").length==0){var a=e.outerWidth();var b=e.outerHeight();var c={color:e.css("backgroundColor"),border:e.css("border"),borderradiusmoz:e.css("-moz-border-radius-topleft"),borderradiusweb:e.css("-webkit-border-top-left-radius"),borderradius:e.css("borderTopLeftRadius"),boxmoz:e.css("-moz-box-shadow"),boxweb:e.css("-webkit-box-shadow"),box:e.css("box-shadow"),padtop:"0px",padleft:"0px",paddingT:parseInt(e.css("paddingTop"),0),paddingB:parseInt(e.css("paddingBottom"),0),paddingL:parseInt(e.css("paddingLeft"),0),paddingR:parseInt(e.css("paddingRight"),0),ww:a+30,hh:b+20};e.data("params",c);e.wrapInner('<div style="position:absolute;overflow:hidden;width:'+(a-(c.paddingL+c.paddingR))+"px;height:"+(b-(c.paddingT+c.paddingB))+'px;"><div class="wipermode-origin" style="top:0px;left:0px;position:absolute;width:'+a+"px;height:"+b+'px;"></div></div>');e.prepend('<div class="wipermode" style="width:'+a+"px;height:"+b+"px;background-color:"+c.color+";top:0px;left:0px;position:absolute;border-radius:"+c.borderradius+";-moz-border-radius:"+c.borderradiusmoz+";-webkit-border-radius:"+c.borderradiusweb+";-moz-box-shadow:"+c.boxmoz+";-webkit-box-shadow:"+c.boxweb+";box-shadow:"+c.box+';"></div>');e.css({background:"none"})}var c=e.data("params");e.stop(true,true).find(".wipermode-origin");e.stop(true,true);e.find(".wipermode").stop(true,true);if(e.hasClass("wipeup")){e.find(".wipermode-origin").css({top:-1*c.hh+"px",left:c.padleft});e.find(".wipermode").css({top:c.hh+"px"})}else{if(e.hasClass("wipedown")){e.find(".wipermode-origin").css({top:c.hh+"px",left:c.padleft});e.find(".wipermode").css({top:-1*c.hh+"px"})}else{if(e.hasClass("wipeleft")){e.find(".wipermode-origin").css({top:c.padtop,left:-1*c.ww+"px"});e.find(".wipermode").css({left:c.ww+"px"})}else{e.find(".wipermode-origin").css({top:c.padtop,left:c.ww+"px"});e.find(".wipermode").css({left:-1*c.ww+"px"})}}}e.animate({opacity:"1.0"},{duration:300,queue:false});e.find(".wipermode-origin").animate({top:c.padtop,left:c.padleft},{duration:500,easing:"easeOutSine",queue:false});e.find(".wipermode").animate({top:"0px",left:"0px"},{duration:500,easing:"easeOutExpo",queue:false})},d+(f+1)*350);f++}if(e.hasClass("masklesswipeup")||e.hasClass("masklesswipedown")||e.hasClass("masklesswipeleft")||e.hasClass("masklesswiperight")){e.animate({opacity:0},{duration:0,queue:false});setTimeout(function(){if(e.find(".masklesswipemode").length==0){var a=e.outerWidth();var b=e.outerHeight();var c={color:e.css("backgroundColor"),border:e.css("border"),borderradiusmoz:e.css("-moz-border-radius-topleft"),borderradiusweb:e.css("-webkit-border-top-left-radius"),borderradius:e.css("borderTopLeftRadius"),boxmoz:e.css("-moz-box-shadow"),boxweb:e.css("-webkit-box-shadow"),box:e.css("box-shadow"),padtop:e.css("paddingTop"),padleft:e.css("paddingLeft")};e.data("params",c);e.wrapInner('<div class="masklesswipemode-origin" style="top:0px;left:0px;position:absolute;width:'+a+"px;height:"+b+'px;"></div>');e.prepend('<div class="masklesswipemode" style="width:'+a+"px;height:"+b+"px;background-color:"+c.color+";top:0px;left:0px;position:absolute;border-radius:"+c.borderradius+";-moz-border-radius:"+c.borderradiusmoz+";-webkit-border-radius:"+c.borderradiusweb+";-moz-box-shadow:"+c.boxmoz+";-webkit-box-shadow:"+c.boxweb+";box-shadow:"+c.box+';"></div>');e.css({background:"none"})}var c=e.data("params");e.stop(true,true).find(".masklesswipemode-origin");e.stop(true,true);e.find(".masklesswipemode").stop(true,true);var d=50;if(e.hasClass("wipeup")){e.find(".masklesswipemode-origin").css({top:-1*d+"px",left:c.padleft});e.find(".masklesswipemode").css({top:d+"px"})}else{if(e.hasClass("masklesswipedown")){e.find(".masklesswipemode-origin").css({top:d+"px",left:c.padleft});e.find(".masklesswipemode").css({top:-1*d+"px"})}else{if(e.hasClass("masklesswipeleft")){e.find(".masklesswipemode-origin").css({top:c.padtop,left:-1*d+"px"});e.find(".masklesswipemode").css({left:d+"px"})}else{e.find(".masklesswipemode-origin").css({top:c.padtop,left:d+"px"});e.find(".masklesswipemode").css({left:-1*d+"px"})}}}e.animate({opacity:"1.0"},{duration:800,queue:false});e.find(".masklesswipemode-origin").animate({top:c.padtop,left:c.padleft},{duration:800,easing:"easeInExpo",queue:false});e.find(".masklesswipemode").animate({top:"0px",left:"0px"},{duration:800,easing:"easeOutExpo",queue:false})},d+(f+1)*350);f++}})}function l(b,c){c.cd=0;if(a.browser.msie)b.find(".kenburn_thumb_container #thumbmask .thumbsslide").cssAnimate({left:"0px"},{duration:300,queue:false});else b.find(".kenburn_thumb_container #thumbmask .thumbsslide").animate({left:"0px"},{duration:300,queue:false});var d=b.find(".kenburn_thumb_container #thumbmask");var e=d.find(".thumbsslide");var f=b.find(".slide_mainmask");setInterval(function(){if(c.loaded==1){var g=b.data("currentSlide");var h=b.data("currentThumb");if(!d.hasClass("overme")&&!f.hasClass("overme")&&!f.hasClass("videoon")){c.cd=c.cd+1;var i=Math.floor(c.thumbWidth*(c.cd/c.timer));if(a.browser.msie){h.find("img").animate({left:0-i+"px"},{duration:10,queue:false});h.animate({left:i+"px"},{duration:10,queue:false})}else{h.find("img").cssAnimate({left:0-i+"px"},{duration:10,queue:false});h.cssAnimate({left:i+"px"},{duration:10,queue:false})}if(c.cd==c.timer){c.cd=0;e.find(".kenburn-thumbs").each(function(){var b=a(this);if(a.browser.msie){b.stop();b.find("img").stop(true,true)}else{b.cssStop(true,true);b.find("img").cssStop(true,true)}b.find("img").css({left:"0px"});e.css({left:"0px"})});if(g.index()<c.maxitem-1){var k=b.find("ul li:eq("+(g.index()+1)+")");j(g,k,b,c);var l=0-parseInt(h.parent().css("left"),0);e.css({position:"absolute"});if(Math.abs(l)<=b.data("thumbnailmaxdif")){if(a.browser.msie)e.animate({left:l+"px"},{duration:300,queue:false});else e.cssAnimate({left:l+"px"},{duration:300,queue:false})}else{l=0-b.data("thumbnailmaxdif");if(a.browser.msie)e.animate({left:l+"px"},{duration:300,queue:false});else e.cssAnimate({left:l+"px"},{duration:300,queue:false})}}else{j(g,b.find("ul li:first"),b,c);if(a.browser.msie)e.animate({left:"0px"},{duration:300,queue:false});else e.cssAnimate({left:"0px"},{duration:300,queue:false})}}}}},100)}function k(){var a=document.createElement("canvas");return!!(a.getContext&&a.getContext("2d"))}function j(c,d,e,f){var g=false;e.find("ul >li").each(function(b){var e=a(this);if(e.index()!=c.index()&&e.index()!=d.index()){e.css({display:"none",position:"absolute",left:"0px","z-index":"994"})}});var h=e.find(".slide_mainmask .video_kenburn");setTimeout(function(){h.remove()},600);var j=e.find(".slide_mainmask");j.removeClass("videoon");c.css({position:"absolute",top:"0px",left:"0px","z-index":"900"});d.css({position:"absolute",top:"0px",left:"0px","z-index":"1000"});d.css({display:"block"});var l=d.find("img:first");var n=d.find(".bw-main-image");if(d.data("ww")==b){var o=d.find("img").width();var p=d.find("img").height();if(o!=0){if(l.width()>0&&l.width()<f.width){var q=f.width/o;o=o*q;p=p*q}if(l.height()>0&&l.height()<f.height){var q=f.height/p;o=o*q;p=p*q}d.data("ww",o);d.data("hh",p)}}else{var o=d.data("ww");var p=d.data("hh")}var r=0;var s=0;var t=0;var u=0;var v=d.data("startalign");var w=d.data("endalign");if(v=="random")v=i();if(w=="random")w=i();if(v!=b){var x=v;var y=x.split(",")[0];var z=x.split(",")[1];if(y=="left")s=0;else if(y=="center")s=f.width/2-o/2;else if(y=="right")s=0-Math.abs(f.width-o);if(z=="top")r=0;else if(z=="center")r=f.height/2-p/2;else if(z=="bottom")r=0-Math.abs(f.height-p)}if(w!=b){var A=w;var y=A.split(",")[0];var z=A.split(",")[1];if(y=="left")u=0;else if(y=="center")u=f.width/2-o/2;else if(y=="right")u=0-Math.abs(f.width-o);if(z=="top")t=0;else if(z=="center")t=f.height/2-p/2;else if(z=="bottom")t=0-Math.abs(f.height-p)}clearInterval(c.data("interval"));l.parent().find(".canvas-now").remove();l.parent().find(".canvas-now-bw").remove();var B=k();var C=a.browser.msie&&a.browser.version<9;if(C)B=false;if(B){l.parent().append('<div style="position:absolute;z-index:1" class="canvas-now"><canvas class="canvas-now-canvas" width="'+o+'" height="'+p+'"></canvas></div>');l.css({display:"none"});var D=l.parent().find(".canvas-now-canvas")[0];var E=D.getContext("2d");if(n.length>0){l.parent().append('<div style="position:absolute;z-index:20" class="canvas-now-bw"><canvas class="canvas-now-canvas-bw" width="'+o+'" height="'+p+'"></canvas></div>');n.css({display:"none"});var F=l.parent().find(".canvas-now-canvas-bw")[0];var G=F.getContext("2d")}}else{}var H=d.data("panduration");var I=0;var J=0;var K=o;var L=p;var M=d.data("zoomfact");var N=d.data("zoom");if(N=="random"){if(Math.floor(Math.random()*2)==0)N="out";else N="in"}if(d.data("zoomfact")=="random"){M=Math.random()*1+1}if(N=="out"){K=K*M;L=L*M;s=s*M;r=r*M}var O=(u-s)/(H*25);var P=(t-r)/(H*25);var Q=1/(H*25);I=o*M/(H*25)/10;J=p*M/(H*25)/10;if(N=="out"){I=I*-1;J=J*-1}if(d.data("endalign")!=b){var A=d.data("endalign");var y=A.split(",")[0];var z=A.split(",")[1];if(y=="left")O=O+I/4;else if(y=="center")O=O-I/2;else if(y=="right")O=O-I;if(z=="top")P=P+J/4;else if(z=="center")P=P-J/2;else if(z=="bottom")P=P-J}if(f.timer>parseInt(d.data("panduration"),0)*10){f.timer=parseInt(d.data("panduration"),0)*10}else{f.timer=f.savedTimer*10}if(B){E.drawImage(l[0],s,r,K,L);if(n.length>0){G.drawImage(n[0],s,r,K,L);setTimeout(function(){l.parent().find(".canvas-now-bw").cssAnimate({opacity:"0.0"},{duration:d.data("colortransition")*1e3,queue:false})},500)}}l.cssStop(true,true);n.cssStop(true,true);l.css({position:"absolute",left:s+"px",top:r+"px",width:K+"px",height:L+"px",opacity:1});n.css({position:"absolute",left:s+"px",top:r+"px",width:K+"px",height:L+"px",opacity:1});d.data("interval",setInterval(function(){if(!e.parent().parent().find(".kenburn_thumb_container #thumbmask").hasClass("overme")&&!e.find(".slide_mainmask").hasClass("overme")&&!e.find(".slide_mainmask").hasClass("videoon")){K=K+I;L=L+J;s=s+O;r=r+P;if(s>0)s=0;if(r>0)r=0;if(s<f.width-K)s=f.width-K;if(r<f.height-L)r=f.height-L;if(B){E.drawImage(l[0],s,r,K,L);if(n.length>0)G.drawImage(n[0],s,r,K,L)}else{l.cssAnimate({left:s+"px",top:r+"px",width:K+"px",height:L+"px"},{duration:38,easing:"linear",queue:false});if(n.length>0&&n.css("opacity")>0){n.cssAnimate({left:s+"px",top:r+"px",width:K+"px",height:L+"px"},{duration:38,easing:"linear",queue:false});n.css({opacity:n.css("opacity")-Q})}}}},40));if(d.data("transition")=="slide"){if(g==false){var R=true;if(c.index()>d.index())R=false;if(R){h.animate({left:0-f.width+"px"},{duration:600,queue:false});d.find(".slide_container").stop(true,true);d.find(".slide_container").css({opacity:"1.0",left:f.width+"px"});c.find(".slide_container").animate({left:0-f.width+"px"},{duration:600,queue:false});d.find(".slide_container").animate({left:"0px",top:"0px",opacity:"1.0"},{duration:600,queue:false})}else{h.animate({left:f.width+"px"},{duration:600,queue:false});d.find(".slide_container").stop(true,true);d.find(".slide_container").css({opacity:"1.0",position:"absolute",top:"0px",left:0-f.width+"px"});c.find(".slide_container").animate({left:f.width+"px"},{duration:600,queue:false});d.find(".slide_container").animate({left:"0px",top:"0px",opacity:"1.0"},{duration:600,queue:false})}}}else{c.find(".slide_container").stop(true,true);c.find(".slide_container").animate({opacity:"0"},{duration:600,queue:false});h.animate({opacity:"0.0"},{duration:600,queue:false});d.find(".slide_container").stop(true,true);d.find(".slide_container").css({opacity:"0.0",left:"0px",top:"0px"});d.find(".slide_container").animate({opacity:"1.0"},{duration:600,queue:false})}var S=e.find(".kenburn_thumb_container #thumbmask .thumbsslide #thumb"+d.index()+" #over");e.find(".kenburn_thumb_container #thumbmask .thumbsslide #thumb"+c.index()).each(function(b){var c=a(this);if(c.attr("id")!="thumb"+d.index()){c.removeClass("selected");var e=c.find("#over");e.stop();e.css({position:"absolute",opacity:"0.0"});setTimeout(function(){e.find("img").css({position:"absolute",left:"0px"})},30);if(a.browser.msie){e.animate({left:"0px",height:f.thumbHeight+"px",width:f.thumbWidth+"px"},{duration:1,queue:false})}else{e.cssAnimate({left:"0px",height:f.thumbHeight+"px",width:f.thumbWidth+"px"},{duration:1,queue:false})}if(a.browser.msie&&a.browser.version>7&&a.browser.version<9)e.css({display:"none"})}});S.parent().addClass("selected");S.animate({opacity:"1.0"},{duration:300,queue:false});if(a.browser.msie&&a.browser.version>7&&a.browser.version<9)S.css({display:"block"});e.data("currentSlide",d);e.data("currentThumb",S);m(d,100,e);f.cd=0}function i(){var a="";var b=Math.floor(Math.random()*3);var c=Math.floor(Math.random()*3);if(b==0)a="left";else if(b==1)a="center";else a="right";if(c==0)a=a+",top";else if(c==1)a=a+",center";else a=a+",bottom";return a}function h(b,c){var d=b.find(".slide_mainmask");d.data("maxwidth",c.width+c.padleft+c.padright);d.data("maxheight",c.height+c.padtop+c.padbottom);d.data("pdistance",c.parallaxX);d.data("pdistancey",c.parallaxY);d.data("cdistance",c.captionParallaxX);d.data("cdistancey",c.captionParallaxY);d.data("opt",c);a("body").append('<div id="mpinfo" style="z-index:1000000;background-color:#fff;position:absolute;top:10px;left:10px;font-size:15px"></div>');var e=d.parent().data("currentSlide");var f=d.find(".parallax_container");var g=e.find(".layer_container");d.mouseenter(function(b){var c=a(this);var d=c.parent().find(".kenburn_thumb_container #thumbmask");var e=c.parent().data("currentSlide");var f=e.find(".parallax_container");var g=e.find(".layer_container");c.addClass("overon")});d.mouseleave(function(b){var c=a(this);var d=c.parent().data("currentSlide");var e=d.find(".parallax_container");var f=d.find(".layer_container");c.removeClass("overme");c.addClass("overon")});d.mousemove(function(b){var d=a(this);if(c.pauseOnRollOverMain!="off")d.addClass("overme");var e=d.parent().find(".kenburn_thumb_container #thumbmask");if(!e.hasClass("overme")&&!d.hasClass("overon")){var f=d.parent().data("currentSlide");var g=f.find(".parallax_container");var h=f.find(".layer_container")}else{setTimeout(function(){d.removeClass("overon")},100)}})}function g(b,c){if(a.browser.msie){b.find(".kenburn-preloader").animate({opacity:"0.0"},{duration:300,queue:false})}else{b.find(".kenburn-preloader").cssAnimate({opacity:"0.0"},{duration:300,queue:false})}setTimeout(function(){b.find(".kenburn-preloader").remove()},300);var d=b.find("ul li:first");j(d,d,b,c);h(b,c);c.loaded=1}function f(b,c){var d=b.find("ul >li").length;var e=c.thumbAmount*c.thumbWidth+(c.thumbAmount-1)*c.thumbSpaces;var f=c.thumbHeight;var g=e-c.thumbSpaces+2*c.thumbPadding;var h=f+c.thumbPadding;var i=c.width+c.padleft+c.padright;var k=Math.round(i/2-g/2);var l=d*c.thumbWidth+(d-1)*c.thumbSpaces;b.append('<div class="kenburn_thumb_container" style="position:absolute;left:'+k+"px;top:"+(1+c.height+c.padtop+c.padbottom)+"px;width:"+(g+2)+"px;height:"+(h+2)+'px;"></div>');var m=b.find(".kenburn_thumb_container");if(c.thumbAmount==0)m.css({visibility:"hidden"});m.append('<div class="kenburn_thumb_container_bg" style="position:absolute;left:1px;top:0px;width:'+g+"px;height:"+h+'px"></div>');m.find(".kenburn_thumb_container_bg").append('<div class="kenburn-repeatshadow" style="top:0px;left:'+ -2+"px;width:"+(g+4)+'px"></div>');m.append('<div id="thumbmask" style="overflow:hidden;position:absolute;top:0px;left:'+(c.thumbPadding+1)+"px; width:"+(e-c.thumbSpaces)+"px;\theight:"+c.thumbHeight+'px;overflow:hidden;"></div>');var n=m.find("#thumbmask");n.append('<div class="thumbsslide" style="width:'+l+'px"></div>');var o=n.find(".thumbsslide");b.find("ul >li").each(function(e){var f=a(this);var g=f.find("img:first");var h=g.data("thumb_bw");var i=g.data("thumb");var k=f.find(".slide_container").data("video")==1;var l=a('<div class="kenburn-thumbs" id="thumb'+e+'" style="cursor:pointer;position:absolute;top:0px;left:'+(e*c.thumbWidth+(e-1)*c.thumbSpaces)+"px;width:"+c.thumbWidth+"px;height:"+c.thumbHeight+"px;background:url("+h+');"></div>');l.data("id",e);if(e==d)l.css({"margin-right":"0px"});o.append(l);var m=a('<div id="over" style="cursor:pointer"><img id="over_img" src="'+i+'"></div>');l.append(m);var n=l.find("#over");n.css({opacity:"0.0"});if(a.browser.msie&&a.browser.version>7&&a.browser.version<9){n.css({display:"none"})}n.css({overflow:"hidden",position:"absolute",left:"0px",opacity:"0.0",height:c.thumbHeight+"px",width:c.thumbWidth+"px"});n.find("img").css({position:"absolute",left:"0px"});if(a.browser.msie){n.animate({left:"0px",opacity:"0.0",height:c.thumbHeight+"px",width:c.thumbWidth+"px"},{duration:50,queue:false});n.find("img").animate({left:"0px"},{duration:50,queue:false})}else{n.cssAnimate({left:"0px",opacity:"0.0",height:c.thumbHeight+"px",width:c.thumbWidth+"px"},{duration:50,queue:false});n.find("img").cssAnimate({left:"0px"},{duration:50,queue:false})}if(k){var p=a('<div class="video"></div>');l.append(p);l.find(".video").css({position:"absolute",top:c.thumbHeight/2+"px",left:c.thumbWidth/2+"px","z-index":"1000"})}if(c.shadow=="true"){var q=a('<div class="kenburn-repeatshadow" style="position:relative;margin-left:0px;width:'+c.thumbWidth+'px;"></div>');l.append(q)}var r=o.find("#thumb"+e);r.hover(function(){var b=a(this).find("#over");if(!b.parent().hasClass("selected")){if(a.browser.msie){if(a.browser.msie&&a.browser.version>7&&a.browser.version<9)b.css({display:"block"});else b.animate({opacity:"1.0"},{duration:300,queue:false})}else{b.css({left:"0px",display:"block"});b.find("img").css({display:"block",opacity:"1.0",left:"0px"});b.cssAnimate({opacity:"1.0"},{duration:300,queue:false})}}},function(){var b=a(this).find("#over");if(!b.parent().hasClass("selected")){if(a.browser.msie){if(a.browser.msie&&a.browser.version>7&&a.browser.version<9)b.css({display:"none"});else b.animate({opacity:"0"},{duration:300,queue:false})}else{b.cssAnimate({opacity:"0.0"},{duration:300,queue:false})}}});r.click(function(){var d=a(this);if(!d.hasClass("selected")){var e=b.find("ul li:eq("+d.data("id")+")");j(b.data("currentSlide"),e,b,c)}})});if(e<l){a(document).mousemove(function(b){a("body").data("mousex",b.pageX)});var p=l-e;b.data("thumbnailmaxdif",p);var q=p/(e-c.thumbWidth);n.data("steps",q);n.data("thw",c.thumbWidth);n.data("maxw",p);n.mouseenter(function(){var b=a(this);if(c.pauseOnRollOverThumbs!="off")b.addClass("overme");var d=b.offset();var e=a("body").data("mousex")-d.left;e=e-b.data("thw")/2;var f=b.data("steps");var g=0-f*e;if(g>0)g=0;if(g<0-p)g=0-p;if(c.pauseOnRollOverMain!="off")b.addClass("overon");b.find(".thumbsslide").css({position:"absolute"});if(a.browser.msie)b.find(".thumbsslide").animate({left:g+"px"},{duration:200,queue:false});else b.find(".thumbsslide").cssAnimate({left:g+"px"},{duration:200,queue:false})});n.mousemove(function(){var b=a(this);if(c.pauseOnRollOverThumbs!="off")b.addClass("overme");var d=b.offset();var e=a("body").data("mousex")-d.left;e=e-b.data("thw")/2;var f=b.data("steps");var g=0-f*e;if(g>0)g=0;if(g<0-p)g=0-p;if(!b.hasClass("overon")){b.find(".thumbsslide").css({position:"absolute"});if(a.browser.msie)b.find(".thumbsslide").animate({left:g+"px"},{duration:0,queue:false});else b.find(".thumbsslide").cssAnimate({left:g+"px"},{duration:0,queue:false})}else{setTimeout(function(){b.removeClass("overon")},100)}});n.mouseout(function(){var b=a(this);b.removeClass("overme")})}}function e(b,c){if(c.shadow=="true"){var d=c.width+c.padleft+c.padright;var e=d/2;if(e>50)e=50;d=d-2*e;var f=a('<div class="kenburn-leftshadow" style="top:'+(1+c.height+c.padtop+c.padbottom)+"px;left:0px;width:"+e+'px"></div>');var g=a('<div class="kenburn-rightshadow" style="top:'+(1+c.height+c.padtop+c.padbottom)+'px"></div>');var h=a('<div class="kenburn-repeatshadow" style="top:'+(1+c.height+c.padtop+c.padbottom)+"px;left:"+e+"px;width:"+d+'px"></div>');b.append(f);b.append(h);b.append(g)}else{var i=b.find(".kenburn_thumb_container")}}function d(a,b){a.append('<div class="kenburn-bg" style="z-index:7;position:absolute;top:0px;left:0px;width:'+b.width+"px;height:"+b.height+'px;overflow:hidden"></div>');var c=a.find(".kenburn-bg");b.padtop=parseInt(c.css("paddingTop"),0);b.padleft=parseInt(c.css("paddingLeft"),0);b.padright=parseInt(c.css("paddingRight"),0);b.padbottom=parseInt(c.css("paddingBottom"),0)}function c(c,d){c.find("ul").wrap('<div class="slide_mainmask" style="z-index:10;position:absolute;top:'+(d.padtop+1)+"px;left:"+(d.padleft+1)+"px;width:"+d.width+"px;height:"+d.height+'px;overflow:hidden"></div>');c.find("ul .slide_mainmask").css({opacity:"0.0"});d.maxitem=0;c.find("ul >li").each(function(e){d.maxitem=d.maxitem+1;var f=a(this);f.find(".creative_layer").wrap('<div class="layer_container" style="position:absolute;left:0px;top:0px;width:'+d.width+"px;height:"+d.height+'px"></div>');f.wrapInner('<div class="slide_container" style="z-index:10;position:absolute;top:0px;left:0px;width:'+d.width+"px;height:"+d.height+'px;overflow:hidden"><div class="parallax_container" style="position:absolute;top:0pxleft:0px"><div class="kb_container"></div></div></div>');if(f.find("img:first").data("bw")!=b&&f.find("img:first").data("bw").length>0)f.find(".kb_container").append('<img class="bw-main-image" src="'+f.find("img:first").data("bw")+'" style="position:absolute;top:0px;left:0px">');f.find(".slide_container").css({opacity:"0.0"});f.find(".slide_container .parallax_container .kb_container .video_pradigm").each(function(){var b=a(this);b.closest(".slide_container").append('<div class="kenburn-video-overlay"></div>');b.closest(".slide_container").append('<div class="kenburn-video-button"></div>');b.closest(".slide_container").data("video",1);var e=b.closest(".slide_container").parent().find(".kenburn-video-button");var f=b.closest(".slide_container").parent().find(".kenburn-video-overlay");var g=parseInt(e.css("width"),0);var h=parseInt(e.css("height"),0);var i=parseInt(b.closest(".slide_container").css("width"),0);var j=parseInt(b.closest(".slide_container").css("height"),0);e.css({left:i/2-g/2+"px",top:j/2-h/2+"px"});e.data("top",c);e.data("url",b.html());b.remove();f.data("origopa",f.css("opacity"));e.hover(function(){var b=a(this);var c=b.parent().find(".kenburn-video-overlay");if(a.browser.msie)c.animate({opacity:"0.5"},{duration:100});else c.cssAnimate({opacity:"0.5"},{duration:100});if(a.browser.version>7&&a.browser.version<9){c.css({display:"block"})}},function(){var b=a(this);var c=b.parent().find(".kenburn-video-overlay");if(a.browser.msie)c.animate({opacity:c.data("origopa")},{duration:100});else c.cssAnimate({opacity:c.data("origopa")},{duration:100});if(a.browser.msie&&a.browser.version>7&&a.browser.version<9){c.css({display:"none"})}});e.click(function(){var b=a(this);var c=b.data("top");var e=c.find(".slide_mainmask");e.addClass("videoon");c.data("currentSlide").animate({top:d.height+"px"},{duration:500,queue:false});c.find(".slide_mainmask").append('<div class="video_kenburn" style="z-index:9999;width:'+d.width+"px;height:"+d.height+'px">'+b.data("url")+"</div>");var f=c.find(".slide_mainmask .video_kenburn");f.css({top:0-d.height+"px"});f.animate({top:"0px"},{duration:500,queue:false});f.find("* #close").click(function(){var a=c.find(".slide_mainmask");a.removeClass("videoon");c.data("currentSlide").animate({top:"0px"},{duration:600,queue:false});f.animate({top:0-d.height+"px"},{duration:600,queue:false});setTimeout(function(){f.remove()},600)})})})})}a.fn.extend({kenburn:function(h){var i={width:876,height:300,thumbWidth:90,thumbHeight:50,thumbAmount:6,thumbSpaces:4,thumbPadding:4,shadow:"true",parallaxX:200,parallaxY:50,captionParallaxX:50,captionParallaxY:25,timer:2e3,touchenabled:"on",pauseOnRollOverThumbs:"off",pauseOnRollOverMain:"on"};h=a.extend({},a.fn.kenburn.defaults,h);return this.each(function(){var i=h;i.savedTimer=i.timer;var k=a(this);k.append('<div class="kenburn-preloader"></div>');d(k,i);c(k,i);e(k,i);f(k,i);k.waitForImages(function(){var c=setInterval(function(){if(a("body").data("googlefonts")!=b&&a("body").data("googlefonts")=="loaded"){clearInterval(c);g(k,i)}},100)});l(k,i);if(i.touchenabled=="on")k.swipe({data:k,swipeLeft:function(){var a=k.data("currentSlide");if(a.index()<i.maxitem-1){var b=k.find("ul li:eq("+(a.index()+1)+")")}else{var b=k.find("ul li:first")}j(a,b,k,i)},swipeRight:function(){var a=k.data("currentSlide");if(a.index()>0){var b=k.find("ul li:eq("+(a.index()-1)+")")}else{var b=k.find("ul li:eq("+(i.maxitem-1)+")")}j(a,b,k,i)},allowPageScroll:"auto"})})}})})(jQuery)